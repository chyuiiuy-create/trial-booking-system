<!DOCTYPE html>
<html lang="zh-HK">
<!-- 
============================================
è©¦å ‚é ç´„ç³»çµ± - å–æ¶ˆé ç´„é é¢
============================================
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–æ¶ˆé ç´„ - é¦™æ¸¯è³ªå¿ƒæ•™è‚²</title>
    <meta name="description" content="é¦™æ¸¯è³ªå¿ƒæ•™è‚² - å–æ¶ˆè©¦å ‚é ç´„">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        
        <!-- é é¢æ¨™é¡Œå€åŸŸ -->
        <header class="header" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);">
            <div class="logo">
                <span class="logo-icon">âŒ</span>
            </div>
            <h1 class="title">é¦™æ¸¯è³ªå¿ƒæ•™è‚²</h1>
            <p class="subtitle">å–æ¶ˆé ç´„</p>
            <!-- å°èˆªæŒ‰éˆ• -->
            <div style="margin-top: 16px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                <a href="index.html" style="background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.9); padding: 8px 16px; border-radius: 20px; text-decoration: none; font-size: 14px;">ğŸ“ æ–°é ç´„</a>
                <a href="cancel.html" style="background: rgba(255,255,255,0.2); color: white; padding: 8px 16px; border-radius: 20px; text-decoration: none; font-size: 14px;">âŒ å–æ¶ˆé ç´„</a>
                <a href="change.html" style="background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.9); padding: 8px 16px; border-radius: 20px; text-decoration: none; font-size: 14px;">âœï¸ æ›´æ”¹é ç´„</a>
            </div>
        </header>

        <!-- æç¤ºè¨Šæ¯å€åŸŸ -->
        <div id="alert-container"></div>

        <!-- å–æ¶ˆé ç´„è¡¨å–® -->
        <form id="cancel-form" class="booking-form">
            
            <div class="form-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ‘¤</span>
                    å­¸ç”Ÿè³‡æ–™
                </h2>
                
                <div class="form-group">
                    <label for="student_name" class="form-label">
                        å­¸ç”Ÿå§“åï¼ˆä¸­æ–‡å…¨ç¨±ï¼‰<span class="required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="student_name" 
                        name="student_name" 
                        class="form-input" 
                        placeholder="è«‹è¼¸å…¥å­¸ç”Ÿä¸­æ–‡å…¨å"
                        required
                    >
                </div>
            </div>

            <div class="form-section">
                <h2 class="section-title">
                    <span class="section-icon">ğŸ“…</span>
                    éœ€å–æ¶ˆçš„é ç´„
                </h2>
                
                <div class="form-group">
                    <label for="cancel_date" class="form-label">
                        å–æ¶ˆé ç´„æ—¥æœŸ <span class="required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="cancel_date" 
                        name="cancel_date" 
                        class="form-input" 
                        placeholder="ä¾‹å¦‚ï¼š1/15ã€1/23"
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label for="cancel_time" class="form-label">
                        å–æ¶ˆé ç´„æ™‚é–“ <span class="required">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="cancel_time" 
                        name="cancel_time" 
                        class="form-input" 
                        placeholder="ä¾‹å¦‚ï¼š3pm-4pmã€15:30-16:30"
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label for="cancel_reason" class="form-label">
                        å–æ¶ˆåŸå›  <span class="optional">(é¸å¡«)</span>
                    </label>
                    <input 
                        type="text" 
                        id="cancel_reason" 
                        name="cancel_reason" 
                        class="form-input" 
                        placeholder="ä¾‹å¦‚ï¼šæ™‚é–“è¡çªã€è‡¨æ™‚æœ‰äº‹"
                    >
                </div>
            </div>

            <!-- æç¤ºä¿¡æ¯ -->
            <div style="background: #ffebee; border-radius: 10px; padding: 16px; margin-bottom: 20px; text-align: center;">
                <span style="color: #c62828; font-size: 14px;">âš ï¸ è«‹æå‰è‡³å°‘24å°æ™‚å–æ¶ˆé ç´„</span>
            </div>

            <div class="form-actions">
                <button type="submit" id="submit-btn" class="submit-btn" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);">
                    <span class="btn-icon">âœ—</span>
                    <span class="btn-text">ç¢ºèªå–æ¶ˆ</span>
                </button>
            </div>

        </form>

        <!-- è£œç¿’ç¤¾è³‡è¨Š -->
        <div class="contact-info">
            <h3 class="info-title">è¯çµ¡æˆ‘å€‘</h3>
            <div class="info-items">
                <div class="info-item">
                    <span class="info-icon">ğŸ“</span>
                    <span class="info-text">ä¹é¾å¤ªå­å½Œæ•¦é“761è™Ÿå¤ªå­è—é¦¬ä¹‹åŸ3æ¨“Bå®¤<br>(å¤ªå­åœ°éµç«™C1å‡ºå£)</span>
                </div>
                <div class="info-item">
                    <span class="info-icon">ğŸ“</span>
                    <span class="info-text">5765 1008</span>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>&copy; 2024 é¦™æ¸¯è³ªå¿ƒæ•™è‚² ç‰ˆæ¬Šæ‰€æœ‰</p>
        </footer>

    </div>

    <script>
        document.getElementById('cancel-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const studentName = document.getElementById('student_name').value.trim();
            const cancelDate = document.getElementById('cancel_date').value.trim();
            const cancelTime = document.getElementById('cancel_time').value.trim();
            const cancelReason = document.getElementById('cancel_reason').value.trim();
            
            if (!studentName || !cancelDate || !cancelTime) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                return;
            }
            
            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="btn-icon">â³</span><span class="btn-text">è™•ç†ä¸­...</span>';
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å„²
            const formData = {
                type: 'cancel',
                id: 'CN' + Date.now().toString(36).toUpperCase(),
                timestamp: new Date().toLocaleString('zh-HK'),
                studentName: studentName,
                cancelDate: cancelDate,
                cancelTime: cancelTime,
                reason: cancelReason || 'æœªèªªæ˜',
                status: 'å¾…è™•ç†'
            };
            
            const submissions = JSON.parse(localStorage.getItem('submissions') || '[]');
            submissions.unshift(formData);
            localStorage.setItem('submissions', JSON.stringify(submissions));
            
            console.log('========================================');
            console.log('âŒ å–æ¶ˆé ç´„ç”³è«‹');
            console.log('========================================');
            console.log('å­¸ç”Ÿå§“åï¼š', studentName);
            console.log('å–æ¶ˆæ—¥æœŸï¼š', cancelDate);
            console.log('å–æ¶ˆæ™‚é–“ï¼š', cancelTime);
            console.log('å–æ¶ˆåŸå› ï¼š', cancelReason || 'æœªèªªæ˜');
            console.log('========================================');
            
            setTimeout(function() {
                window.location.href = 'confirmation.html?type=cancel&name=' + encodeURIComponent(studentName) + 
                    '&date=' + encodeURIComponent(cancelDate) + '&time=' + encodeURIComponent(cancelTime);
            }, 1000);
        });
    </script>
</body>
</html>

